<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作用域链</title>
    <script>
        /* 
            作用域链：
                查找原则：就近原则，从自身出发来不断向外延伸，向外延伸期间不会访问同级的作用域
                当使用一个变量时，JS解释器将会优先在当前作用域进行查找变量。
                如果找到该变量，则直接使用，如果没有找到，则向上一层作用域进行查找并使用，如果没找到进行到上一层作用域查找，直到全局作用域都没找到时，则提示报错，显示变量为定义
                函数在定义时就绑定了作用域，与调用的具体位置没关系
        */
        // let a = '全局a';
        // {
        //     // let a = '局部a';

        //     {
        //         console.log(a);
        //     }

        //     let a = '局部a';//暂时性死区，为什么？因为在使用let、const创建变量时，作用域创建阶段时，JS会知道有哪些块，哪些变量，但此时变量并没有被赋值，如果此时直接访问变量就会造成暂时性死区（TDZ）
        //当然使用var进行定义变量时，不会报TDZ的错误，但同样的，此时a的值也没有赋值，直接访问会显示undefined。
        // 报错：Uncaught ReferenceError: Cannot access 'a' before initialization
        // }
        let x = 11;
        {
            function fn() {
                console.log(x);
            }

            function fn2() {
                let x = 12;
            }
            fn();//先找自身，发现没有，到上一层寻找，但是不会进入fn2的作用域，发现没有进行上一层，发现目标，打印
        }

    </script>
</head>

<body>

</body>

</html>