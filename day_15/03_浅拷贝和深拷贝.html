<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浅拷贝和深拷贝</title>
    <script>
        /* 
            浅拷贝（shallow copy）
                通常情况下，对对象的拷贝都是浅拷贝（只对对象的浅层进行复制，只复制一层）
                如果对象存储的数据是原始值（原始值存在的唯一）时，拷贝就不分深浅（无论你怎么拷贝，终究会指向原始值）
                浅拷贝只会对对象的本身进行复制,不会复制对象的属性。（外层不同，里层相同）
            
            深拷贝（deep copy）
                将对象本身和对象的属性进行复制
                通常不会进行深拷贝（深拷贝会对对象进行完整的复制（不谈原始值），会开辟一个新的空间存放新的相同结构的对象，从而影响性能（内存时间上））
                如果需要两个独立操作会需要深拷贝
                实现 ： 
                    structuredClone() : 浏览器提供的方法
        */
        let arr = [{name : '孙悟空',age : 18},{name :'猪八戒' ,age : 18},{name : '沙悟净',age : 18}];
        // let arr1 = arr.slice();//浅复制，只复制了数组（单纯就创建了一个数组，里面内容不变），数组存放的元素并没有进行复制，两个数组指向的内容还是一样的
        // arr1[0].name = '齐天大圣';
        // console.log(arr);
        // console.log(arr1);
        // console.log(arr === arr1);
        // console.log(arr[0] === arr1[0]);//存放内容还是一样的

        let arr2 = structuredClone(arr);
        arr2[0].name = '齐天大圣';//并不会影响到arr
        console.log(arr);
        console.log(arr2);
        console.log(arr[0] === arr2[0]);

    </script>
</head>
<body>
    
</body>
</html>